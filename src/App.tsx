import React, { useState } from 'react';
import { Store, Sidenote, InlineAnchor, AnchorBase } from 'sidenotes';
import { deselectSidenote } from 'sidenotes/dist/src/store/ui/actions';
import { useStore } from 'react-redux';
import { OverlayTrigger, Button, Popover } from 'react-bootstrap';

import 'sidenotes/dist/sidenotes.css';
import '../styles/dark.scss';
import '../styles/sidenotes.scss';
import '../styles/bible.scss'

var store: Store;

const docId = 'article';
const baseAnchor = 'anchor';
const blue = 'blue';
const red = 'red';

type Scripture = {
    contents: any;
}

//GEN1
const GEN1 = [[{ "type": "p", "content": "In the ", "header": "The History of Creation" },{ "type": "note", "content": "Ps. 102:25; Is. 40:21; (John 1:1-3; Heb. 1:10)" },{ "type": "text", "content": "beginning " },{ "type": "note", "content": "Gen. 2:4; (Ps. 8:3; 89:11; 90:2); Is. 44:24; Acts 17:24; Rom. 1:20; (Heb. 1:2; 11:3); Rev. 4:11" },{ "type": "text", "content": "God created the heavens and the earth. " }],[{ "type": "text", "content": "The earth was " },{ "type": "note", "content": "Jer. 4:23" },{ "type": "text", "content": "without form, and void; and darkness " },{ "type": "it", "content": "was" },{ "type": "text", "content": " on the face of the deep. " },{ "type": "note", "content": "(Gen. 6:3); Job 26:13; Ps. 33:6; 104:30; Is. 40:13, 14" },{ "type": "text", "content": "And the Spirit of God was hovering over the face of the waters." }],[{ "type": "p", "content": "" },{ "type": "note", "content": "Ps. 33:6, 9" },{ "type": "text", "content": "Then God said, " },{ "type": "note", "content": "2 Cor. 4:6" },{ "type": "text", "content": "\"Let there be " },{ "type": "note", "content": "(Heb. 11:3)" },{ "type": "text", "content": "light\"; and there was light. " }],[{ "type": "text", "content": "And God saw the light, that " },{ "type": "it", "content": "it was" },{ "type": "text", "content": " good; and God divided the light from the darkness. " }],[{ "type": "text", "content": "God called the light Day, and the " },{ "type": "note", "content": "Job 37:18; Ps. 19:2; 33:6; 74:16; 104:20; 136:5; Jer. 10:12" },{ "type": "text", "content": "darkness He called Night. So the evening and the morning were the first day." }],[{ "type": "p", "content": "Then God said, " },{ "type": "note", "content": "Job 37:18; Jer. 10:12; 2 Pet. 3:5" },{ "type": "text", "content": "\"Let there be a firmament in the midst of the waters, and let it divide the waters from the waters.\" " }],[{ "type": "text", "content": "Thus God made the firmament, " },{ "type": "note", "content": "Job 38:8-11; Prov. 8:27-29" },{ "type": "text", "content": "and divided the waters which " },{ "type": "it", "content": "were" },{ "type": "text", "content": " under the firmament from the waters which " },{ "type": "it", "content": "were" },{ "type": "text", "content": " " },{ "type": "note", "content": "Ps. 148:4" },{ "type": "text", "content": "above the firmament; and it was so. " }],[{ "type": "text", "content": "And God called the firmament Heaven. So the evening and the morning were the second day." }],[{ "type": "p", "content": "Then God said, " },{ "type": "note", "content": "Job 26:10; Ps. 104:6-9; Prov. 8:29; Jer. 5:22; 2 Pet. 3:5" },{ "type": "text", "content": "\"Let the waters under the heavens be gathered together into one place, and " },{ "type": "note", "content": "Ps. 24:1, 2; 33:7; 95:5" },{ "type": "text", "content": "let the dry " },{ "type": "it", "content": "land" },{ "type": "text", "content": " appear\"; and it was so. " }],[{ "type": "text", "content": "And God called the dry " },{ "type": "it", "content": "land" },{ "type": "text", "content": " Earth, and the gathering together of the waters He called Seas. And God saw that " },{ "type": "it", "content": "it was" },{ "type": "text", "content": " good." }],[{ "type": "p", "content": "Then God said, \"Let the earth " },{ "type": "note", "content": "Ps. 65:9-13; 104:14; Heb. 6:7" },{ "type": "text", "content": "bring forth grass, the herb " },{ "type": "it", "content": "that" },{ "type": "text", "content": " yields seed, " },{ "type": "it", "content": "and" },{ "type": "text", "content": " the " },{ "type": "note", "content": "2 Sam. 16:1; Luke 6:44" },{ "type": "text", "content": "fruit tree " },{ "type": "it", "content": "that" },{ "type": "text", "content": " yields fruit according to its kind, whose seed " },{ "type": "it", "content": "is" },{ "type": "text", "content": " in itself, on the earth\"; and it was so. " }],[{ "type": "text", "content": "And the earth brought forth grass, the herb " },{ "type": "it", "content": "that" },{ "type": "text", "content": " yields seed according to its kind, and the tree " },{ "type": "it", "content": "that" },{ "type": "text", "content": " yields fruit, whose seed " },{ "type": "it", "content": "is" },{ "type": "text", "content": " in itself according to its kind. And God saw that " },{ "type": "it", "content": "it was" },{ "type": "text", "content": " good. " }],[{ "type": "text", "content": "So the evening and the morning were the third day." }],[{ "type": "p", "content": "Then God said, \"Let there be " },{ "type": "note", "content": "Deut. 4:19; Ps. 74:16; 136:5-9" },{ "type": "text", "content": "lights in the firmament of the heavens to divide the day from the night; and let them be for signs and " },{ "type": "note", "content": "Ps. 104:19" },{ "type": "text", "content": "seasons, and for days and years; " }],[{ "type": "text", "content": "and let them be for lights in the firmament of the heavens to give light on the earth\"; and it was so. " }],[{ "type": "text", "content": "Then God made two great lights: the " },{ "type": "note", "content": "Ps. 136:8" },{ "type": "text", "content": "greater light to rule the day, and the " },{ "type": "note", "content": "Deut. 17:3; Ps. 8:3" },{ "type": "text", "content": "lesser light to rule the night. " },{ "type": "it", "content": "He made" },{ "type": "text", "content": " " },{ "type": "note", "content": "Deut. 4:19; Job 38:7; Is. 40:26" },{ "type": "text", "content": "the stars also. " }],[{ "type": "text", "content": "God set them in the firmament of the " },{ "type": "note", "content": "Gen. 15:5; Jer. 33:20, 25" },{ "type": "text", "content": "heavens to give light on the earth, " }],[{ "type": "text", "content": "and to " },{ "type": "note", "content": "Jer. 31:35" },{ "type": "text", "content": "rule over the day and over the night, and to divide the light from the darkness. And God saw that " },{ "type": "it", "content": "it was" },{ "type": "text", "content": " good. " }],[{ "type": "text", "content": "So the evening and the morning were the fourth day." }],[{ "type": "p", "content": "Then God said, \"Let the waters abound with an abundance of living creatures, and let birds fly above the earth across the face of the firmament of the heavens.\" " }],[{ "type": "text", "content": "So " },{ "type": "note", "content": "Ps. 104:25-28" },{ "type": "text", "content": "God created great sea creatures and every living thing that moves, with which the waters abounded, according to their kind, and every winged bird according to its kind. And God saw that " },{ "type": "it", "content": "it was" },{ "type": "text", "content": " good. " }],[{ "type": "text", "content": "And God blessed them, saying, " },{ "type": "note", "content": "Gen. 8:17" },{ "type": "text", "content": "\"Be fruitful and multiply, and fill the waters in the seas, and let birds multiply on the earth.\" " }],[{ "type": "text", "content": "So the evening and the morning were the fifth day." }],[{ "type": "p", "content": "Then God said, \"Let the earth bring forth the living creature according to its kind: cattle and creeping thing and beast of the earth, " },{ "type": "it", "content": "each" },{ "type": "text", "content": " according to its kind\"; and it was so. " }],[{ "type": "text", "content": "And God made the beast of the earth according to its kind, cattle according to its kind, and everything that creeps on the earth according to its kind. And God saw that " },{ "type": "it", "content": "it was" },{ "type": "text", "content": " good." }],[{ "type": "p", "content": "Then God said, " },{ "type": "note", "content": "Gen. 9:6; Ps. 100:3; Eccl. 7:29; (Eph. 4:24); James 3:9" },{ "type": "text", "content": "\"Let Us make man in Our image, according to Our likeness; " },{ "type": "note", "content": "Gen. 9:2; Ps. 8:6-8" },{ "type": "text", "content": "let them have dominion over the fish of the sea, over the birds of the air, and over the cattle, over all the earth and over every creeping thing that creeps on the earth.\" " }],[{ "type": "text", "content": "So God created man " },{ "type": "note", "content": "Gen. 5:2; 1 Cor. 11:7" },{ "type": "text", "content": "in His " },{ "type": "it", "content": "own" },{ "type": "text", "content": " image; in the image of God He created him; " },{ "type": "note", "content": "Matt. 19:4; (Mark 10:6-8)" },{ "type": "text", "content": "male and female He created them. " }],[{ "type": "text", "content": "Then God blessed them, and God said to them, " },{ "type": "note", "content": "Gen. 9:1, 7; Lev. 26:9" },{ "type": "text", "content": "\"Be fruitful and multiply; fill the earth and " },{ "type": "note", "content": "1 Cor. 9:27" },{ "type": "text", "content": "subdue it; have dominion over the fish of the sea, over the birds of the air, and over every living thing that moves on the earth.\"" }],[{ "type": "p", "content": "And God said, \"See, I have given you every herb " },{ "type": "it", "content": "that" },{ "type": "text", "content": " yields seed which " },{ "type": "it", "content": "is" },{ "type": "text", "content": " on the face of all the earth, and every tree whose fruit yields seed; " },{ "type": "note", "content": "Gen. 9:3; Ps. 104:14, 15" },{ "type": "text", "content": "to you it shall be for food. " }],[{ "type": "text", "content": "Also, to " },{ "type": "note", "content": "Ps. 145:15" },{ "type": "text", "content": "every beast of the earth, to every " },{ "type": "note", "content": "Job 38:41" },{ "type": "text", "content": "bird of the air, and to everything that creeps on the earth, in which " },{ "type": "it", "content": "there is" },{ "type": "text", "content": " life, " },{ "type": "it", "content": "I have given" },{ "type": "text", "content": " every green herb for food\"; and it was so. " }],[{ "type": "text", "content": "Then " },{ "type": "note", "content": "(Ps. 104:24; 1 Tim. 4:4)" },{ "type": "text", "content": "God saw everything that He had made, and indeed " },{ "type": "it", "content": "it was" },{ "type": "text", "content": " very good. So the evening and the morning were the sixth day." }]]
//GEN2
const GEN2 = [[{ "type": "p", "content": "Thus the heavens and the earth, and " },{ "type": "note", "content": "Ps. 33:6" },{ "type": "text", "content": "all the host of them, were finished. " }],[{ "type": "note", "content": "Ex. 20:9-11; 31:17; Heb. 4:4, 10" },{ "type": "text", "content": "And on the seventh day God ended His work which He had done, and He rested on the seventh day from all His work which He had done. " }],[{ "type": "text", "content": "Then God " },{ "type": "note", "content": "(Is. 58:13)" },{ "type": "text", "content": "blessed the seventh day and sanctified it, because in it He rested from all His work which God had created and made." }],[{ "type": "p", "content": "" },{ "type": "note", "content": "Gen. 1:1; Ps. 90:1, 2" },{ "type": "text", "content": "This " },{ "type": "it", "content": "is" },{ "type": "text", "content": " the history of the heavens and the earth when they were created, in the day that the " },{ "type": "sc", "content": "Lord" },{ "type": "text", "content": " God made the earth and the heavens, " }],[{ "type": "text", "content": "before any " },{ "type": "note", "content": "Gen. 1:11, 12" },{ "type": "text", "content": "plant of the field was in the earth and before any herb of the field had grown. For the " },{ "type": "sc", "content": "Lord" },{ "type": "text", "content": " God had not " },{ "type": "note", "content": "Gen. 7:4; Job 5:10; 38:26-28" },{ "type": "text", "content": "caused it to rain on the earth, and " },{ "type": "it", "content": "there was" },{ "type": "text", "content": " no man " },{ "type": "note", "content": "Gen. 3:23" },{ "type": "text", "content": "to till the ground; " }],[{ "type": "text", "content": "but a mist went up from the earth and watered the whole face of the ground." }],[{ "type": "p", "content": "And the " },{ "type": "sc", "content": "Lord" },{ "type": "text", "content": " God formed man " },{ "type": "it", "content": "of" },{ "type": "text", "content": " the " },{ "type": "note", "content": "Gen. 3:19, 23; Ps. 103:14" },{ "type": "text", "content": "dust of the ground, and " },{ "type": "note", "content": "Job 33:4" },{ "type": "text", "content": "breathed into his " },{ "type": "note", "content": "Gen. 7:22" },{ "type": "text", "content": "nostrils the breath of life; and " },{ "type": "note", "content": "1 Cor. 15:45" },{ "type": "text", "content": "man became a living being." }],[{ "type": "p", "content": "The ", "header": "Life in God's Garden" },{ "type": "sc", "content": "Lord" },{ "type": "text", "content": " God planted " },{ "type": "note", "content": "Is. 51:3" },{ "type": "text", "content": "a garden " },{ "type": "note", "content": "Gen. 3:23, 24" },{ "type": "text", "content": "eastward in " },{ "type": "note", "content": "Gen. 4:16" },{ "type": "text", "content": "Eden, and there He put the man whom He had formed. " }],[{ "type": "text", "content": "And out of the ground the " },{ "type": "sc", "content": "Lord" },{ "type": "text", "content": " God made " },{ "type": "note", "content": "Ezek. 31:8" },{ "type": "text", "content": "every tree grow that is pleasant to the sight and good for food. " },{ "type": "note", "content": "(Gen. 3:22; Rev. 2:7; 22:2, 14)" },{ "type": "text", "content": "The tree of life " },{ "type": "it", "content": "was" },{ "type": "text", "content": " also in the midst of the garden, and the tree of the knowledge of good and " },{ "type": "note", "content": "(Deut. 1:39)" },{ "type": "text", "content": "evil." }],[{ "type": "p", "content": "Now a river went out of Eden to water the garden, and from there it parted and became four riverheads. " }],[{ "type": "text", "content": "The name of the first " },{ "type": "it", "content": "is" },{ "type": "text", "content": " Pishon; it " },{ "type": "it", "content": "is" },{ "type": "text", "content": " the one which skirts " },{ "type": "note", "content": "Gen. 25:18" },{ "type": "text", "content": "the whole land of Havilah, where " },{ "type": "it", "content": "there is" },{ "type": "text", "content": " gold. " }],[{ "type": "text", "content": "And the gold of that land " },{ "type": "it", "content": "is" },{ "type": "text", "content": " good. " },{ "type": "note", "content": "Num. 11:7" },{ "type": "text", "content": "Bdellium and the onyx stone " },{ "type": "it", "content": "are" },{ "type": "text", "content": " there. " }],[{ "type": "text", "content": "The name of the second river " },{ "type": "it", "content": "is" },{ "type": "text", "content": " Gihon; it " },{ "type": "it", "content": "is" },{ "type": "text", "content": " the one which goes around the whole land of Cush. " }],[{ "type": "text", "content": "The name of the third river " },{ "type": "it", "content": "is" },{ "type": "text", "content": " " },{ "type": "note", "content": "Dan. 10:4" },{ "type": "text", "content": "Hiddekel; it " },{ "type": "it", "content": "is" },{ "type": "text", "content": " the one which goes toward the east of Assyria. The fourth river " },{ "type": "it", "content": "is" },{ "type": "text", "content": " the Euphrates." }],[{ "type": "p", "content": "Then the " },{ "type": "sc", "content": "Lord" },{ "type": "text", "content": " God took the man and put him in the garden of Eden to tend and keep it. " }],[{ "type": "text", "content": "And the " },{ "type": "sc", "content": "Lord" },{ "type": "text", "content": " God commanded the man, saying, \"Of every tree of the garden you may freely eat; " }],[{ "type": "text", "content": "but of the tree of the knowledge of good and evil " },{ "type": "note", "content": "Gen. 3:1, 3, 11, 17" },{ "type": "text", "content": "you shall not eat, for in the day that you eat of it " },{ "type": "note", "content": "Gen. 3:3, 19; (Rom. 6:23)" },{ "type": "text", "content": "you shall surely " },{ "type": "note", "content": "Rom. 5:12; 1 Cor. 15:21, 22" },{ "type": "text", "content": "die.\"" }],[{ "type": "p", "content": "And the " },{ "type": "sc", "content": "Lord" },{ "type": "text", "content": " God said, \"" },{ "type": "it", "content": "It is" },{ "type": "text", "content": " not good that man should be alone; " },{ "type": "note", "content": "1 Cor. 11:8, 9; 1 Tim. 2:13" },{ "type": "text", "content": "I will make him a helper comparable to him.\" " }],[{ "type": "note", "content": "Gen. 1:20, 24" },{ "type": "text", "content": "Out of the ground the " },{ "type": "sc", "content": "Lord" },{ "type": "text", "content": " God formed every beast of the field and every bird of the air, and " },{ "type": "note", "content": "Ps. 8:6" },{ "type": "text", "content": "brought " },{ "type": "it", "content": "them" },{ "type": "text", "content": " to Adam to see what he would call them. And whatever Adam called each living creature, that " },{ "type": "it", "content": "was" },{ "type": "text", "content": " its name. " }],[{ "type": "text", "content": "So Adam gave names to all cattle, to the birds of the air, and to every beast of the field. But for Adam there was not found a helper comparable to him." }],[{ "type": "p", "content": "And the " },{ "type": "sc", "content": "Lord" },{ "type": "text", "content": " God caused a " },{ "type": "note", "content": "Gen. 15:12; 1 Sam. 26:12" },{ "type": "text", "content": "deep sleep to fall on Adam, and he slept; and He took one of his ribs, and closed up the flesh in its place. " }],[{ "type": "text", "content": "Then the rib which the " },{ "type": "sc", "content": "Lord" },{ "type": "text", "content": " God had taken from man He made into a woman, " },{ "type": "note", "content": "Gen. 3:20; 1 Tim. 2:13" },{ "type": "text", "content": "and He " },{ "type": "note", "content": "Heb. 13:4" },{ "type": "text", "content": "brought her to the man." }],[{ "type": "p", "content": "And Adam said:" },{ "type": "q1", "content": "\"This " },{ "type": "it", "content": "is" },{ "type": "text", "content": " now " },{ "type": "note", "content": "Gen. 29:14; Eph. 5:28-30" },{ "type": "text", "content": "bone of my bones" },{ "type": "q2", "content": "And flesh of my flesh;" },{ "type": "q2", "content": "She shall be called Woman," },{ "type": "q2", "content": "Because she was " },{ "type": "note", "content": "1 Cor. 11:8, 9" },{ "type": "text", "content": "taken out of Man.\"" }],[{ "type": "p", "content": "" },{ "type": "note", "content": "Matt. 19:5; Eph. 5:31" },{ "type": "text", "content": "Therefore a man shall leave his father and mother and " },{ "type": "note", "content": "Mark 10:6-8; 1 Cor. 6:16" },{ "type": "text", "content": "be joined to his wife, and they shall become one flesh." }],[{ "type": "p", "content": "" },{ "type": "note", "content": "Gen. 3:7, 10" },{ "type": "text", "content": "And they were both naked, the man and his wife, and were not " },{ "type": "note", "content": "Is. 47:3" },{ "type": "text", "content": "ashamed." }]]
//MAT5
const MAT5 = [[{ "type": "p", "content": "And seeing the multitudes, ", "header": "The Beatitudes" },{ "type": "note", "content": "Matt. 14:23; 15:29; 17:1; Mark 3:13; Luke 6:17; 9:28; John 6:3, 15" },{ "type": "text", "content": "He went up on a mountain, and when He was seated His disciples came to Him. " }],[{ "type": "text", "content": "Then He opened His mouth and " },{ "type": "note", "content": "(Matt. 7:29); Mark 10:1; 12:35; John 8:2" },{ "type": "text", "content": "taught them, saying:" }],[{ "type": "q1", "content": "" },{ "type": "wj", "content": "\"Blessed" },{ "type": "text", "content": "" },{ "type": "note", "content": "Prov. 16:19; Is. 66:2; Luke 6:20-23" },{ "type": "text", "content": " " },{ "type": "wj", "content": "" },{ "type": "it", "content": "are" },{ "type": "text", "content": "" },{ "type": "text", "content": "" },{ "type": "wj", "content": " the poor in spirit," },{ "type": "text", "content": "" },{ "type": "q2", "content": "" },{ "type": "wj", "content": "For theirs is the kingdom of heaven." },{ "type": "text", "content": "" }],[{ "type": "q2", "content": "" },{ "type": "note", "content": "Is. 61:2, 3; Luke 6:21; (John 16:20); Acts 16:34; (2 Cor. 1:7); Rev. 21:4" },{ "type": "text", "content": "" },{ "type": "wj", "content": "Blessed " },{ "type": "text", "content": "" },{ "type": "wj", "content": "" },{ "type": "it", "content": "are" },{ "type": "text", "content": "" },{ "type": "text", "content": "" },{ "type": "wj", "content": " those who mourn," },{ "type": "text", "content": "" },{ "type": "q2", "content": "" },{ "type": "wj", "content": "For they shall be comforted." },{ "type": "text", "content": "" }],[{ "type": "q2", "content": "" },{ "type": "note", "content": "Ps. 37:11; Is. 29:19" },{ "type": "text", "content": "" },{ "type": "wj", "content": "Blessed " },{ "type": "text", "content": "" },{ "type": "wj", "content": "" },{ "type": "it", "content": "are" },{ "type": "text", "content": "" },{ "type": "text", "content": "" },{ "type": "wj", "content": " the meek," },{ "type": "text", "content": "" },{ "type": "q2", "content": "" },{ "type": "wj", "content": "For " },{ "type": "text", "content": "" },{ "type": "note", "content": "(Rom. 4:13)" },{ "type": "text", "content": "" },{ "type": "wj", "content": "they shall inherit the " },{ "type": "text", "content": "" },{ "type": "wj", "content": "earth." },{ "type": "text", "content": "" }],[{ "type": "q2", "content": "" },{ "type": "wj", "content": "Blessed " },{ "type": "text", "content": "" },{ "type": "wj", "content": "" },{ "type": "it", "content": "are" },{ "type": "text", "content": "" },{ "type": "text", "content": "" },{ "type": "wj", "content": " those who " },{ "type": "text", "content": "" },{ "type": "note", "content": "Luke 1:53; Acts 2:4" },{ "type": "text", "content": "" },{ "type": "wj", "content": "hunger and thirst for righteousness," },{ "type": "text", "content": "" },{ "type": "q2", "content": "" },{ "type": "note", "content": "(Is. 55:1; 65:13; John 4:14; 6:48; 7:37)" },{ "type": "text", "content": "" },{ "type": "wj", "content": "For they shall be filled." },{ "type": "text", "content": "" }],[{ "type": "q2", "content": "" },{ "type": "wj", "content": "Blessed " },{ "type": "text", "content": "" },{ "type": "wj", "content": "" },{ "type": "it", "content": "are" },{ "type": "text", "content": "" },{ "type": "text", "content": "" },{ "type": "wj", "content": " the merciful," },{ "type": "text", "content": "" },{ "type": "q2", "content": "" },{ "type": "note", "content": "Ps. 41:1; Mark 11:25" },{ "type": "text", "content": "" },{ "type": "wj", "content": "For they shall obtain mercy." },{ "type": "text", "content": "" }],[{ "type": "q2", "content": "" },{ "type": "note", "content": "Ps. 15:2; 24:4; Heb. 12:14" },{ "type": "text", "content": "" },{ "type": "wj", "content": "Blessed " },{ "type": "text", "content": "" },{ "type": "wj", "content": "" },{ "type": "it", "content": "are" },{ "type": "text", "content": "" },{ "type": "text", "content": "" },{ "type": "wj", "content": " the pure in heart," },{ "type": "text", "content": "" },{ "type": "q2", "content": "" },{ "type": "wj", "content": "For " },{ "type": "text", "content": "" },{ "type": "note", "content": "Acts 7:55, 56; 1 Cor. 13:12" },{ "type": "text", "content": "" },{ "type": "wj", "content": "they shall see God." },{ "type": "text", "content": "" }],[{ "type": "q2", "content": "" },{ "type": "wj", "content": "Blessed " },{ "type": "text", "content": "" },{ "type": "wj", "content": "" },{ "type": "it", "content": "are" },{ "type": "text", "content": "" },{ "type": "text", "content": "" },{ "type": "wj", "content": " the peacemakers," },{ "type": "text", "content": "" },{ "type": "q2", "content": "" },{ "type": "wj", "content": "For they shall be called sons of God." },{ "type": "text", "content": "" }],[{ "type": "q2", "content": "" },{ "type": "note", "content": "(2 Cor. 4:17); 1 Pet. 3:14" },{ "type": "text", "content": "" },{ "type": "wj", "content": "Blessed " },{ "type": "text", "content": "" },{ "type": "wj", "content": "" },{ "type": "it", "content": "are" },{ "type": "text", "content": "" },{ "type": "text", "content": "" },{ "type": "wj", "content": " those who are persecuted for righteousness' sake," },{ "type": "text", "content": "" },{ "type": "q2", "content": "" },{ "type": "wj", "content": "For theirs is the kingdom of heaven." },{ "type": "text", "content": "" }],[{ "type": "p", "content": "" },{ "type": "note", "content": "Luke 6:22" },{ "type": "text", "content": "" },{ "type": "wj", "content": "\"Blessed are you when they revile and persecute you, and say all kinds of " },{ "type": "text", "content": "" },{ "type": "note", "content": "1 Pet. 4:14" },{ "type": "text", "content": "" },{ "type": "wj", "content": "evil against you falsely for My sake." },{ "type": "text", "content": " " }],[{ "type": "note", "content": "Luke 6:23; Acts 5:41; 1 Pet. 4:13, 14" },{ "type": "text", "content": "" },{ "type": "wj", "content": "Rejoice and be exceedingly glad, for great " },{ "type": "text", "content": "" },{ "type": "wj", "content": "" },{ "type": "it", "content": "is" },{ "type": "text", "content": "" },{ "type": "text", "content": "" },{ "type": "wj", "content": " your reward in heaven, for " },{ "type": "text", "content": "" },{ "type": "note", "content": "2 Chr. 36:16; Neh. 9:26; Matt. 23:37; Acts 7:52; 1 Thess. 2:15; Heb. 11:35-37; James 5:10" },{ "type": "text", "content": "" },{ "type": "wj", "content": "so they persecuted the prophets who were before you." },{ "type": "text", "content": "" }],[{ "type": "p", "content": "", "header": "Believers Are Salt and Light" },{ "type": "wj", "content": "\"You are the salt of the earth; " },{ "type": "text", "content": "" },{ "type": "note", "content": "Mark 9:50; Luke 14:34" },{ "type": "text", "content": "" },{ "type": "wj", "content": "but if the salt loses its flavor, how shall it be seasoned? It is then good for nothing but to be thrown out and trampled underfoot by men." },{ "type": "text", "content": "" }],[{ "type": "p", "content": "" },{ "type": "note", "content": "(Prov. 4:18; John 8:12); Phil. 2:15" },{ "type": "text", "content": "" },{ "type": "wj", "content": "\"You are the light of the world. A city that is set on a hill cannot be hidden." },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "Nor do they " },{ "type": "text", "content": "" },{ "type": "note", "content": "Mark 4:21; Luke 8:16; Phil. 2:15" },{ "type": "text", "content": "" },{ "type": "wj", "content": "light a lamp and put it under a basket, but on a lampstand, and it gives light to all " },{ "type": "text", "content": "" },{ "type": "wj", "content": "" },{ "type": "it", "content": "who are" },{ "type": "text", "content": "" },{ "type": "text", "content": "" },{ "type": "wj", "content": " in the house." },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "Let your light so shine before men, " },{ "type": "text", "content": "" },{ "type": "note", "content": "1 Pet. 2:12" },{ "type": "text", "content": "" },{ "type": "wj", "content": "that they may see your good works and " },{ "type": "text", "content": "" },{ "type": "note", "content": "(John 15:8); 1 Cor. 14:25" },{ "type": "text", "content": "" },{ "type": "wj", "content": "glorify your Father in heaven." },{ "type": "text", "content": "" }],[{ "type": "p", "content": "", "header": "Christ Fulfills the Law" },{ "type": "note", "content": "Rom. 10:4" },{ "type": "text", "content": "" },{ "type": "wj", "content": "\"Do not think that I came to destroy the Law or the Prophets. I did not come to destroy but to fulfill." },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "For assuredly, I say to you, " },{ "type": "text", "content": "" },{ "type": "note", "content": "Matt. 24:35; Luke 16:17" },{ "type": "text", "content": "" },{ "type": "wj", "content": "till heaven and earth pass away, one " },{ "type": "text", "content": "" },{ "type": "wj", "content": "jot or one " },{ "type": "text", "content": "" },{ "type": "wj", "content": "tittle will by no means pass from the law till all is fulfilled." },{ "type": "text", "content": " " }],[{ "type": "note", "content": "(James 2:10)" },{ "type": "text", "content": "" },{ "type": "wj", "content": "Whoever therefore breaks one of the least of these commandments, and teaches men so, shall be called least in the kingdom of heaven; but whoever does and teaches " },{ "type": "text", "content": "" },{ "type": "wj", "content": "" },{ "type": "it", "content": "them," },{ "type": "text", "content": "" },{ "type": "text", "content": "" },{ "type": "wj", "content": " he shall be called great in the kingdom of heaven." },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "For I say to you, that unless your righteousness exceeds " },{ "type": "text", "content": "" },{ "type": "note", "content": "(Rom. 10:3)" },{ "type": "text", "content": "" },{ "type": "wj", "content": "" },{ "type": "it", "content": "the righteousness" },{ "type": "text", "content": "" },{ "type": "text", "content": "" },{ "type": "wj", "content": " of the scribes and Pharisees, you will by no means enter the kingdom of heaven." },{ "type": "text", "content": "" }],[{ "type": "p", "content": "", "header": "Murder Begins in the Heart" },{ "type": "wj", "content": "\"You have heard that it was said to those " },{ "type": "text", "content": "" },{ "type": "wj", "content": "of old, " },{ "type": "text", "content": "" },{ "type": "note", "content": "Ex. 20:13; Deut. 5:17" },{ "type": "text", "content": "" },{ "type": "wj", "content": "'You shall not murder," },{ "type": "text", "content": "" },{ "type": "wj", "content": " and whoever murders will be in danger of the judgment.'" },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "But I say to you that " },{ "type": "text", "content": "" },{ "type": "note", "content": "(1 John 3:15)" },{ "type": "text", "content": "" },{ "type": "wj", "content": "whoever is angry with his brother " },{ "type": "text", "content": "" },{ "type": "wj", "content": "without a cause" },{ "type": "text", "content": "" },{ "type": "wj", "content": " shall be in danger of the judgment. And whoever says to his brother, " },{ "type": "text", "content": "" },{ "type": "note", "content": "(James 2:20; 3:6)" },{ "type": "text", "content": "" },{ "type": "wj", "content": "'Raca!'" },{ "type": "text", "content": "" },{ "type": "wj", "content": " shall be in danger of the council. But whoever says, " },{ "type": "text", "content": "" },{ "type": "wj", "content": "'You fool!' shall be in danger of " },{ "type": "text", "content": "" },{ "type": "wj", "content": "hell fire." },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "Therefore " },{ "type": "text", "content": "" },{ "type": "note", "content": "Matt. 8:4" },{ "type": "text", "content": "" },{ "type": "wj", "content": "if you bring your gift to the altar, and there remember that your brother has something against you," },{ "type": "text", "content": " " }],[{ "type": "note", "content": "(Job 42:8; 1 Tim. 2:8; 1 Pet. 3:7)" },{ "type": "text", "content": "" },{ "type": "wj", "content": "leave your gift there before the altar, and go your way. First be reconciled to your brother, and then come and offer your gift." },{ "type": "text", "content": " " }],[{ "type": "note", "content": "(Prov. 25:8); Luke 12:58, 59" },{ "type": "text", "content": "" },{ "type": "wj", "content": "Agree with your adversary quickly, " },{ "type": "text", "content": "" },{ "type": "note", "content": "(Ps. 32:6; Is. 55:6)" },{ "type": "text", "content": "" },{ "type": "wj", "content": "while you are on the way with him, lest your adversary deliver you to the judge, the judge hand you over to the officer, and you be thrown into prison." },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "Assuredly, I say to you, you will by no means get out of there till you have paid the last penny." },{ "type": "text", "content": "" }],[{ "type": "p", "content": "", "header": "Adultery in the Heart" },{ "type": "wj", "content": "\"You have heard that it was said " },{ "type": "text", "content": "" },{ "type": "wj", "content": "to those of old," },{ "type": "text", "content": " " },{ "type": "note", "content": "Ex. 20:14; Deut. 5:18" },{ "type": "text", "content": "" },{ "type": "wj", "content": "'You shall not commit adultery.'" },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "But I say to you that whoever " },{ "type": "text", "content": "" },{ "type": "note", "content": "2 Sam. 11:2-5; Job 31:1; Prov. 6:25; (Matt. 15:19; James 1:14, 15)" },{ "type": "text", "content": "" },{ "type": "wj", "content": "looks at a woman to lust for her has already committed adultery with her in his heart." },{ "type": "text", "content": " " }],[{ "type": "note", "content": "Mark 9:43" },{ "type": "text", "content": "" },{ "type": "wj", "content": "If your right eye causes you to " },{ "type": "text", "content": "" },{ "type": "wj", "content": "sin, " },{ "type": "text", "content": "" },{ "type": "note", "content": "(Col. 3:5)" },{ "type": "text", "content": "" },{ "type": "wj", "content": "pluck it out and cast " },{ "type": "text", "content": "" },{ "type": "wj", "content": "" },{ "type": "it", "content": "it" },{ "type": "text", "content": "" },{ "type": "text", "content": "" },{ "type": "wj", "content": " from you; for it is more profitable for you that one of your members perish, than for your whole body to be cast into hell." },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "And if your right hand causes you to " },{ "type": "text", "content": "" },{ "type": "wj", "content": "sin, cut it off and cast " },{ "type": "text", "content": "" },{ "type": "wj", "content": "" },{ "type": "it", "content": "it" },{ "type": "text", "content": "" },{ "type": "text", "content": "" },{ "type": "wj", "content": " from you; for it is more profitable for you that one of your members perish, than for your whole body to be cast into hell." },{ "type": "text", "content": "" }],[{ "type": "p", "content": "", "header": "Marriage Is Sacred and Binding" },{ "type": "wj", "content": "\"Furthermore it has been said, " },{ "type": "text", "content": "" },{ "type": "note", "content": "Deut. 24:1; (Jer. 3:1); Mark 10:2" },{ "type": "text", "content": "" },{ "type": "wj", "content": "'Whoever divorces his wife, let him give her a certificate of divorce.'" },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "But I say to you that " },{ "type": "text", "content": "" },{ "type": "note", "content": "(Matt. 19:9; Mark 10:11; Luke 16:18; Rom. 7:3); 1 Cor. 7:11" },{ "type": "text", "content": "" },{ "type": "wj", "content": "whoever divorces his wife for any reason except " },{ "type": "text", "content": "" },{ "type": "wj", "content": "sexual immorality" },{ "type": "text", "content": "" },{ "type": "wj", "content": " causes her to commit adultery; and whoever marries a woman who is divorced commits adultery." },{ "type": "text", "content": "" }],[{ "type": "p", "content": "", "header": "Jesus Forbids Oaths" },{ "type": "wj", "content": "\"Again you have heard that " },{ "type": "text", "content": "" },{ "type": "note", "content": "Matt. 23:16" },{ "type": "text", "content": "" },{ "type": "wj", "content": "it was said to those of " },{ "type": "text", "content": "" },{ "type": "wj", "content": "old, " },{ "type": "text", "content": "" },{ "type": "note", "content": "(Ex. 20:7); Lev. 19:12; Num. 30:2" },{ "type": "text", "content": "" },{ "type": "wj", "content": "'You shall not swear falsely, but " },{ "type": "text", "content": "" },{ "type": "note", "content": "Deut. 23:23" },{ "type": "text", "content": "" },{ "type": "wj", "content": "shall perform your oaths to the Lord.'" },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "But I say to you, " },{ "type": "text", "content": "" },{ "type": "note", "content": "Matt. 23:16; James 5:12" },{ "type": "text", "content": "" },{ "type": "wj", "content": "do not swear at all: neither by heaven, for it is " },{ "type": "text", "content": "" },{ "type": "note", "content": "Is. 66:1" },{ "type": "text", "content": "" },{ "type": "wj", "content": "God's throne;" },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "nor by the earth, for it is His footstool; nor by Jerusalem, for it is the city of " },{ "type": "text", "content": "" },{ "type": "note", "content": "Ps. 48:2; (Matt. 5:2, 19; 6:10)" },{ "type": "text", "content": "" },{ "type": "wj", "content": "the great King." },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "Nor shall you swear by your head, because you cannot make one hair white or black." },{ "type": "text", "content": " " }],[{ "type": "note", "content": "(Col. 4:6); James 5:12" },{ "type": "text", "content": "" },{ "type": "wj", "content": "But let " },{ "type": "text", "content": "" },{ "type": "wj", "content": "your 'Yes' be 'Yes,' and your 'No,' 'No.' For whatever is more than these is from the evil one." },{ "type": "text", "content": "" }],[{ "type": "p", "content": "", "header": "Go the Second Mile" },{ "type": "wj", "content": "\"You have heard that it was said, " },{ "type": "text", "content": "" },{ "type": "note", "content": "Ex. 21:24; Lev. 24:20; Deut. 19:21" },{ "type": "text", "content": "" },{ "type": "wj", "content": "'An eye for an eye and a tooth for a tooth.'" },{ "type": "text", "content": " " }],[{ "type": "note", "content": "(Prov. 20:22); Luke 6:29; (Rom. 12:17; 1 Cor. 6:7; 1 Pet. 3:9)" },{ "type": "text", "content": "" },{ "type": "wj", "content": "But I tell you not to resist an evil person. " },{ "type": "text", "content": "" },{ "type": "note", "content": "Is. 50:6; Lam. 3:30" },{ "type": "text", "content": "" },{ "type": "wj", "content": "But whoever slaps you on your right cheek, turn the other to him also." },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "If anyone wants to sue you and take away your tunic, let him have " },{ "type": "text", "content": "" },{ "type": "wj", "content": "" },{ "type": "it", "content": "your" },{ "type": "text", "content": "" },{ "type": "text", "content": "" },{ "type": "wj", "content": " cloak also." },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "And whoever " },{ "type": "text", "content": "" },{ "type": "note", "content": "Matt. 27:32" },{ "type": "text", "content": "" },{ "type": "wj", "content": "compels you to go one mile, go with him two." },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "Give to him who asks you, and " },{ "type": "text", "content": "" },{ "type": "note", "content": "Deut. 15:7-11; Luke 6:30-34; 1 Tim. 6:18" },{ "type": "text", "content": "" },{ "type": "wj", "content": "from him who wants to borrow from you do not turn away." },{ "type": "text", "content": "" }],[{ "type": "p", "content": "", "header": "Love Your Enemies" },{ "type": "wj", "content": "\"You have heard that it was said, " },{ "type": "text", "content": "" },{ "type": "note", "content": "Lev. 19:18" },{ "type": "text", "content": "" },{ "type": "wj", "content": "'You shall love your neighbor" },{ "type": "text", "content": " " },{ "type": "note", "content": "Deut. 23:3-6; Ps. 41:10" },{ "type": "text", "content": "" },{ "type": "wj", "content": "and hate your enemy.'" },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "But I say to you, " },{ "type": "text", "content": "" },{ "type": "note", "content": "Luke 6:27; Rom. 12:14" },{ "type": "text", "content": "" },{ "type": "wj", "content": "love your enemies, bless those who curse you, " },{ "type": "text", "content": "" },{ "type": "note", "content": "(Rom. 12:20)" },{ "type": "text", "content": "" },{ "type": "wj", "content": "do good to those who hate you, and pray " },{ "type": "text", "content": "" },{ "type": "note", "content": "Luke 23:34; Acts 7:60; 1 Cor. 4:12; 1 Pet. 2:23" },{ "type": "text", "content": "" },{ "type": "wj", "content": "for those who spitefully use you and persecute you," },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "that you may be sons of your Father in heaven; for " },{ "type": "text", "content": "" },{ "type": "note", "content": "Job 25:3; Ps. 65:9-13; Luke 12:16, 17; Acts 14:17" },{ "type": "text", "content": "" },{ "type": "wj", "content": "He makes His sun rise on the evil and on the good, and sends rain on the just and on the unjust." },{ "type": "text", "content": " " }],[{ "type": "note", "content": "Luke 6:32" },{ "type": "text", "content": "" },{ "type": "wj", "content": "For if you love those who love you, what reward have you? Do not even the tax collectors do the same?" },{ "type": "text", "content": " " }],[{ "type": "wj", "content": "And if you greet your " },{ "type": "text", "content": "" },{ "type": "wj", "content": "brethren" },{ "type": "text", "content": "" },{ "type": "wj", "content": " only, what do you do more " },{ "type": "text", "content": "" },{ "type": "wj", "content": "" },{ "type": "it", "content": "than others?" },{ "type": "text", "content": "" },{ "type": "text", "content": "" },{ "type": "wj", "content": " Do not even the " },{ "type": "text", "content": "" },{ "type": "wj", "content": "tax collectors" },{ "type": "text", "content": "" },{ "type": "wj", "content": " do so?" },{ "type": "text", "content": " " }],[{ "type": "note", "content": "Gen. 17:1; Lev. 11:44; 19:2; Luke 6:36; (Col. 1:28; 4:12); James 1:4; 1 Pet. 1:15" },{ "type": "text", "content": "" },{ "type": "wj", "content": "Therefore you shall be perfect, just " },{ "type": "text", "content": "" },{ "type": "note", "content": "Eph. 5:1" },{ "type": "text", "content": "" },{ "type": "wj", "content": "as your Father in heaven is perfect." },{ "type": "text", "content": "" }]]

function Scripture({ contents }: Scripture) {

    // DYNAMICALLY GENERATE BIBLE CONTENTS
    // split content into paragraphs
    var paragraphs = new Array();
    let temp = new Array();

    for (let i = 0; i < contents.length; i++) { //iterate through verses

        //content
        for (let ii = 0; ii < contents[i].length; ii++) { //iterate through verse sections
            let section = contents[i][ii];
            
            if (section.type == 'p' || section.type == 'q1' || section.type == 'q2') { //new paragraph
                if (temp.length != 0) { //store previous sections as a paragraph
                    paragraphs.push(temp);
                }
                temp = new Array(); //begin new paragraph
            }
            //header
            if (section.header != null) {
                paragraphs.push([{"type":"s", "content":section.header}]);
            }
            
            //verse numbers
            if (ii == 0) {
                if (i == 0) {
                    temp.push({"type":"label chapter", "content":i+1});
                }
                else {
                    temp.push({"type":"label", "content":i+1});
                }   
            }
            
            temp.push(section);
        };
    }
    paragraphs.push(temp);

    // format paragraphs
    const content = paragraphs.map((paragraph: Array<{type:string, content:string}>) => {

        // format contents of paragraph
        const paraContent = paragraph.map((item) => {
            //footnotes
            if (item.type == 'note') {

                //detect references
                const pattern = RegExp(/(?:[123]+ )?[A-z]+\.? ?\d+(?:: ?\d+ ?)?/g);
                let match;
                let matches = new Array();

                while ((match = pattern.exec(item.content)) !== null) { //get positions of references
                    matches.push([match.index, pattern.lastIndex]);
                }

                let data = new Array();

                //extract references
                let i;

                if (matches[0][0] != 0) { //prevent pushing ''  
                    data.push([item.content.slice(0, matches[0][0]), false]);
                }
                for (i= 0; i < matches.length; i++) {

                    data.push([item.content.slice(matches[i][0], matches[i][1]), true]); //reference

                    if (i < matches.length-1) { 
                        data.push([item.content.slice(matches[i][1], matches[i+1][0]), false]); //post-reference
                    }
                    
                }
                if (matches[i-1][1] != item.content.length) { //prevent pushing ''  
                    data.push([item.content.slice(matches[i-1][1], item.content.length), false]);
                }

                //format references
                const references = data.map((ref) => {
                    if (ref[1]) {
                        return <span className='wj'>{ref}</span>;
                    }
                    return ref;
                });

                //create popover
                const popover = (
                    <Popover id="popover-basic">
                        <Popover.Body>
                            {references}
                        </Popover.Body>
                    </Popover>
                );
                
                return (
                    <OverlayTrigger trigger="click" rootClose placement="top" overlay={popover}>
                        <span className="note"/>
                    </OverlayTrigger>
                );
            }
    
            //other formatting
            return (
                <span className={item.type}>{item.content}</span>
            );
        });

        let paraType = paragraph[0].type
        if (paraType.startsWith('label')) {
            paraType = paragraph[1].type
        }

        return (
            <>
                <div className={paraType}>
                    {paraContent}
                </div>
            </>
        );
    });

    //TODO; work out how to use <InLineAnchor>s with this new system

    return (<>{content}</>);
}

function App() {
    const [passageContents, setPassageContents] = useState(GEN1);
    const [passageName, setPassageName] = useState('GEN1');

    store = useStore();
    const deselect = () => store.dispatch(deselectSidenote(docId));

    function handleClick() {
        // TODO; load contents externally from files
        if (passageName == 'GEN1') {
            setPassageContents(GEN1);
        }
        else if (passageName == 'GEN2') {
            setPassageContents(GEN2);
        }
        else if (passageName == 'MAT5') {
            setPassageContents(MAT5);
        }
        else {
            alert('invalid');
        }
    }

    function handleChange(event: React.ChangeEvent<any>) {
        setPassageName(event.currentTarget.value);
    }

    return (
        <>
            <article id={docId} onClick={deselect}>
                
                {/* BANNER */}
                <div className="input-group">
                    <input type="text" className="form-control" onChange={handleChange} onKeyDown={(e) => e.key === 'Enter' && handleClick()} defaultValue="GEN1"/>
                    <button className='btn btn-default' onClick={handleClick}>Load</button>
                </div>

                {/* BIBLE */}
                <AnchorBase anchor={baseAnchor} className="base">

                    {/*content /* autofill from JSON */}
                    <Scripture contents={passageContents}></Scripture>

                </AnchorBase>
                <p className="notice">Scripture taken from the New King James Version®. Copyright © 1982 by Thomas Nelson. Used by permission. All rights reserved.</p>

                {/* SIDENOTES */} {/* TODO; generate dynamically */}
                <div className="sidenotes">
                    <Sidenote sidenote={blue} base={baseAnchor}>
                        <div style={{ width: 280, height: 150}}>
                            <textarea defaultValue='Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia, molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborum numquam blanditiis harum quisquam eius sed odit fugiat iusto fuga praesentium optio, eaque rerum! Provident similique accusantium nemo autem.'/>
                        </div>
                    </Sidenote>
                    <Sidenote sidenote={red} base={baseAnchor}>
                        <div style={{ width: 280, height: 100}}>right-hand note</div>
                    </Sidenote>
                </div>

                <div className="sidenotes l">
                    <Sidenote sidenote={blue} base={baseAnchor}>
                        <div style={{ width: 280, height: 100}}>left-hand note</div>
                    </Sidenote>
                </div>

            </article>
        </>
    );
}

export default App;